<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <style>
      .card-section {
        width: 30%;
        height: 50vh;
        border: 1px solid black;
        align-items: center;
        text-align: center;
        padding: 2px;
      }
      .avatar {
        width: 100%;
        height: 50%;
      }
    </style>

    <div class="card-section">
      <img
        class="avatar"
        src="https://avatars.githubusercontent.com/u/11613311?v=4"
      />
      <p class="followers"></p>
      <button class="btn">Press</button>
    </div>

    <script>
      const apiRequest = new XMLHttpRequest();

      const requestedApi = "https://api.github.com/users/hiteshchoudhary";

      apiRequest.open("GET", requestedApi);

      const p = document.querySelector(".followers");
      const button = document.querySelector(".btn");
      apiRequest.onreadystatechange = function () {
        console.log(apiRequest.readyState);

        if (apiRequest.readyState === 4) {
          // console.log(typeof requestedApi);

          const responsemsg = JSON.parse(this.responseText);
          console.log(responsemsg.avatar_url);

          button.addEventListener("click", function () {
            const followrs = responsemsg.followers;
            p.innerHTML = `The followers of Hitesh Choudhry are:   ${followrs}`;
            console.log(followrs);
          });
        }
      };

      apiRequest.send();
    </script>
  </body>
</html>
